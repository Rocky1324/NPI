<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test du Tour Guid√©</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    h1 {
      font-size: 36px;
      margin-bottom: 10px;
      color: #2d3748;
    }
    
    .subtitle {
      color: #718096;
      font-size: 18px;
      margin-bottom: 40px;
    }
    
    .test-section {
      margin-bottom: 40px;
      padding: 30px;
      background: #f7fafc;
      border-radius: 12px;
      border: 2px solid #e2e8f0;
    }
    
    .test-section h2 {
      color: #2d3748;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .element-to-highlight {
      padding: 20px;
      background: linear-gradient(135deg, #06b6d4, #7c3aed);
      color: white;
      border-radius: 12px;
      margin: 10px 0;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .element-to-highlight:hover {
      transform: scale(1.02);
    }
    
    .buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    button, .btn {
      padding: 14px 24px;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn-primary {
      background: #06b6d4;
      color: white;
    }
    
    .btn-primary:hover {
      background: #0891b2;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(6, 182, 212, 0.4);
    }
    
    .btn-secondary {
      background: #7c3aed;
      color: white;
    }
    
    .btn-secondary:hover {
      background: #6d28d9;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);
    }
    
    .btn-success {
      background: #10b981;
      color: white;
    }
    
    .btn-success:hover {
      background: #059669;
    }
    
    .status-box {
      padding: 20px;
      background: white;
      border-radius: 10px;
      border-left: 4px solid #06b6d4;
      margin-top: 20px;
    }
    
    .status-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .status-item:last-child {
      border-bottom: none;
    }
    
    .status-label {
      font-weight: 600;
      color: #4a5568;
    }
    
    .status-value {
      color: #2d3748;
      font-family: monospace;
    }
    
    .code-block {
      background: #1e293b;
      color: #e2e8f0;
      padding: 20px;
      border-radius: 10px;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      overflow-x: auto;
    }
    
    .select-demo {
      width: 100%;
      padding: 12px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 15px;
      margin: 10px 0;
    }
    
    .checkbox-demo {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      margin: 5px 0;
    }
    
    .checkbox-demo input {
      width: 20px;
      height: 20px;
    }
    
    .info-box {
      background: #eef2ff;
      border: 2px solid #818cf8;
      border-radius: 10px;
      padding: 20px;
      margin-top: 20px;
    }
    
    .info-box h3 {
      color: #4338ca;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üß™ Test du Tour Guid√© Automatis√©</h1>
    <p class="subtitle">Cette page permet de tester le syst√®me de d√©mo avant de l'int√©grer aux pages principales.</p>
    
    <!-- Section 1: Contr√¥les manuels -->
    <div class="test-section">
      <h2>üéÆ Contr√¥les Manuels</h2>
      <p style="margin-bottom: 20px; color: #4a5568;">Utilisez ces boutons pour contr√¥ler la d√©mo manuellement via l'API publique.</p>
      
      <div class="buttons">
        <button class="btn-primary" onclick="window.DemoTour && window.DemoTour.start()">
          üé¨ D√©marrer la D√©mo
        </button>
        <button class="btn-secondary" onclick="window.DemoTour && window.DemoTour.pause()">
          ‚è∏Ô∏è Pause / Resume
        </button>
        <button class="btn-success" onclick="window.DemoTour && window.DemoTour.stop()">
          ‚èπÔ∏è Arr√™ter
        </button>
      </div>
      
      <div class="status-box">
        <div class="status-item">
          <span class="status-label">√âtat de la d√©mo :</span>
          <span class="status-value" id="demo-status">Non d√©marr√©e</span>
        </div>
        <div class="status-item">
          <span class="status-label">Page courante :</span>
          <span class="status-value" id="current-page">demo-test</span>
        </div>
        <div class="status-item">
          <span class="status-label">LocalStorage :</span>
          <span class="status-value" id="storage-status">-</span>
        </div>
      </div>
    </div>
    
    <!-- Section 2: √âl√©ments √† mettre en √©vidence -->
    <div class="test-section" id="highlight-section">
      <h2>‚ú® √âl√©ments Testables</h2>
      <p style="margin-bottom: 20px; color: #4a5568;">Ces √©l√©ments peuvent √™tre mis en √©vidence par le spotlight de la d√©mo.</p>
      
      <div class="element-to-highlight" id="test-element-1">
        √âl√©ment 1 : Cliquez pour voir le spotlight
      </div>
      
      <div class="element-to-highlight" id="test-element-2">
        √âl√©ment 2 : Avec une tooltip en bas
      </div>
      
      <div class="element-to-highlight" id="test-element-3">
        √âl√©ment 3 : Avec une tooltip √† droite
      </div>
    </div>
    
    <!-- Section 3: Interactions -->
    <div class="test-section" id="interaction-section">
      <h2>üîò √âl√©ments Interactifs</h2>
      <p style="margin-bottom: 20px; color: #4a5568;">Testez les actions automatiques (click, change, etc.).</p>
      
      <select class="select-demo" id="test-select">
        <option value="">S√©lectionnez une option</option>
        <option value="option1">Option 1 - Cor√©e du Sud</option>
        <option value="option2">Option 2 - Taiwan</option>
        <option value="option3">Option 3 - Singapore</option>
      </select>
      
      <div class="checkbox-demo">
        <input type="checkbox" id="test-checkbox-1">
        <label for="test-checkbox-1">Case √† cocher 1</label>
      </div>
      
      <div class="checkbox-demo">
        <input type="checkbox" id="test-checkbox-2">
        <label for="test-checkbox-2">Case √† cocher 2</label>
      </div>
      
      <div class="buttons" style="margin-top: 20px;">
        <button class="btn-primary" id="test-button-click">
          Bouton Cliquable
        </button>
        <button class="btn-secondary" id="test-button-action">
          Action Secondaire
        </button>
      </div>
    </div>
    
    <!-- Section 4: API et Code -->
    <div class="test-section">
      <h2>üíª API Publique</h2>
      <p style="margin-bottom: 20px; color: #4a5568;">L'objet global <code>window.DemoTour</code> expose les m√©thodes suivantes :</p>
      
      <div class="code-block">
// D√©marrer la d√©mo
window.DemoTour.start();

// Mettre en pause / reprendre
window.DemoTour.pause();

// Arr√™ter la d√©mo
window.DemoTour.stop();

// V√©rifier l'√©tat
if (window.DemoTour.isRunning()) {
  console.log('D√©mo en cours');
}
      </div>
    </div>
    
    <!-- Section 5: Sc√©nario de test -->
    <div class="test-section">
      <h2>üìã Sc√©nario de Test Personnalis√©</h2>
      <p style="margin-bottom: 20px; color: #4a5568;">Cr√©ez votre propre sc√©nario de d√©mo pour cette page.</p>
      
      <div class="code-block">
// Ajouter dans demo.js - DEMO_SCENARIOS
'demo-test': [
  {
    target: '#test-element-1',
    message: 'Premier √©l√©ment',
    description: 'Ceci est le premier √©l√©ment √† mettre en √©vidence',
    position: 'bottom',
    duration: 3000
  },
  {
    target: '#test-select',
    message: 'Menu d√©roulant',
    description: 'La d√©mo peut interagir avec les selects',
    position: 'top',
    action: 'interact',
    duration: 3000
  },
  {
    target: '#test-button-click',
    message: 'Clic automatique',
    description: 'Ce bouton sera cliqu√© automatiquement',
    position: 'bottom',
    action: 'click',
    duration: 2000
  }
]
      </div>
      
      <button class="btn-primary" onclick="testCustomScenario()" style="margin-top: 20px;">
        üß™ Tester le sc√©nario personnalis√©
      </button>
    </div>
    
    <!-- Section 6: Informations -->
    <div class="info-box">
      <h3>‚ÑπÔ∏è Instructions</h3>
      <ol style="margin-left: 20px; color: #4a5568; line-height: 1.8;">
        <li>Ouvrez la console (F12) pour voir les logs</li>
        <li>Cliquez sur "D√©marrer la D√©mo" pour tester l'initialisation</li>
        <li>V√©rifiez que les √©l√©ments DOM sont cr√©√©s (overlay, spotlight, tooltip)</li>
        <li>Testez les boutons Pause et Stop</li>
        <li>V√©rifiez le localStorage pour la persistance</li>
        <li>Testez sur diff√©rentes tailles d'√©cran</li>
      </ol>
    </div>
    
    <!-- Navigation vers les vraies pages -->
    <div class="test-section">
      <h2>üöÄ Tester sur les Vraies Pages</h2>
      <p style="margin-bottom: 20px; color: #4a5568;">Une fois les tests valid√©s ici, essayez sur les pages r√©elles :</p>
      
      <div class="buttons">
        <a href="/home.html" class="btn btn-primary">üè† Page d'accueil</a>
        <a href="/carte.html" class="btn btn-secondary">üó∫Ô∏è Carte</a>
        <a href="/timeline.html" class="btn btn-secondary">üìÖ Timeline</a>
        <a href="/comparaison.html" class="btn btn-secondary">üìä Comparaison</a>
      </div>
    </div>
  </div>
  
  <script src="/demo.js"></script>
  <script>
    // Mise √† jour du statut en temps r√©el
    function updateStatus() {
      const statusEl = document.getElementById('demo-status');
      const storageEl = document.getElementById('storage-status');
      
      if (window.DemoTour && window.DemoTour.isRunning()) {
        statusEl.textContent = '‚úÖ En cours';
        statusEl.style.color = '#10b981';
      } else {
        statusEl.textContent = '‚èπÔ∏è Arr√™t√©e';
        statusEl.style.color = '#ef4444';
      }
      
      const demoRunning = localStorage.getItem('demoRunning');
      storageEl.textContent = demoRunning === 'true' ? '‚úì Active' : '‚úó Inactive';
    }
    
    // Mettre √† jour toutes les 500ms
    setInterval(updateStatus, 500);
    
    // Logs pour le d√©bogage
    console.log('üß™ Page de test du tour guid√© charg√©e');
    console.log('üì¶ DemoTour API disponible :', !!window.DemoTour);
    
    // √âv√©nements sur les boutons de test
    document.getElementById('test-button-click').addEventListener('click', () => {
      console.log('‚úÖ Bouton cliqu√© !');
      alert('Bouton cliqu√© avec succ√®s !');
    });
    
    document.getElementById('test-button-action').addEventListener('click', () => {
      console.log('‚úÖ Action secondaire d√©clench√©e');
      alert('Action secondaire !');
    });
    
    // √âv√©nements sur le select
    document.getElementById('test-select').addEventListener('change', (e) => {
      console.log('üìù S√©lection chang√©e :', e.target.value);
    });
    
    // Test du sc√©nario personnalis√©
    function testCustomScenario() {
      if (!window.DemoTour) {
        alert('‚ùå DemoTour n\'est pas disponible !');
        return;
      }
      
      console.log('üß™ Test du sc√©nario personnalis√©...');
      alert('‚ö†Ô∏è Cette fonctionnalit√© n√©cessite d\'ajouter le sc√©nario dans demo.js\n\nVoir la section "Sc√©nario de Test Personnalis√©" pour le code √† ajouter.');
    }
    
    // Ajouter des logs quand les √©l√©ments sont cliqu√©s
    document.querySelectorAll('.element-to-highlight').forEach((el, index) => {
      el.addEventListener('click', () => {
        console.log(`‚ú® √âl√©ment ${index + 1} cliqu√©`);
        el.style.transform = 'scale(0.95)';
        setTimeout(() => {
          el.style.transform = 'scale(1)';
        }, 200);
      });
    });
    
    // Log initial
    console.log('üìä √âtat initial du localStorage:');
    console.log('  - demoRunning:', localStorage.getItem('demoRunning'));
    console.log('  - demoPage:', localStorage.getItem('demoPage'));
    console.log('  - demoStep:', localStorage.getItem('demoStep'));
  </script>
</body>
</html>
